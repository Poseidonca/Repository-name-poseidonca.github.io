<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ—Å–µ—â–µ–Ω–∏—è</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .calculator {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 28px;
        }
        .form-group {
            margin-bottom: 25px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #2c3e50;
            font-size: 16px;
        }
        input[type="time"] {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 6px;
            width: 150px;
            font-size: 16px;
        }
        input[type="time"]:focus {
            border-color: #3498db;
            outline: none;
        }
        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 8px;
        }
        .radio-group label {
            font-weight: normal;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        input[type="radio"] {
            transform: scale(1.2);
        }
        .buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
        }
        button {
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        button.calculate {
            background: #27ae60;
            color: white;
        }
        button.calculate:hover {
            background: #219a52;
            transform: translateY(-2px);
        }
        button.clear {
            background: #e74c3c;
            color: white;
        }
        button.clear:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }
        .result {
            background: linear-gradient(135deg, #e8f5e8, #d4edda);
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 5px solid #27ae60;
            display: none;
        }
        .result h3 {
            color: #155724;
            margin-top: 0;
        }
        .tariff-info {
            background: #fff3cd;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
            border-left: 4px solid #ffc107;
        }
        .hotkeys {
            text-align: center;
            margin-top: 20px;
            color: #7f8c8d;
            font-size: 14px;
        }
        .calculated-cost {
            background: #e3f2fd;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            border-left: 4px solid #2196f3;
        }
    </style>
</head>
<body>
    <div class="calculator">
        <h1>üéØ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ—Å–µ—â–µ–Ω–∏—è</h1>
        
        <div class="form-group">
            <label>üïí –í—Ä–µ–º—è –ø—Ä–∏—Ö–æ–¥–∞:</label>
            <input type="time" id="arrivalTime" value="10:00">
        </div>
        
        <div class="form-group">
            <label>üïì –í—Ä–µ–º—è —É—Ö–æ–¥–∞:</label>
            <input type="time" id="departureTime" value="12:00">
        </div>
        
        <div class="form-group">
            <label>üë§ –¢–∏–ø –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è:</label>
            <div class="radio-group">
                <label><input type="radio" name="visitorType" value="1" checked> üë® –í–∑—Ä–æ—Å–ª—ã–π</label>
                <label><input type="radio" name="visitorType" value="2"> üë∂ –†–µ–±–µ–Ω–æ–∫</label>
            </div>
        </div>
        
        <div class="form-group">
            <label>üìÖ –¢–∏–ø –¥–Ω—è:</label>
            <div class="radio-group">
                <label><input type="radio" name="dayType" value="1" checked> üìÖ –ë—É–¥–Ω–∏–π –¥–µ–Ω—å</label>
                <label><input type="radio" name="dayType" value="2"> üéâ –í—ã—Ö–æ–¥–Ω–æ–π –¥–µ–Ω—å</label>
            </div>
        </div>
        
        <div class="buttons">
            <button class="calculate" onclick="calculateCost()">üßÆ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å</button>
            <button class="clear" onclick="clearForm()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë</button>
        </div>
        
        <div class="hotkeys">
            ‚å®Ô∏è –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏: Enter - —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å, Backspace - –æ—á–∏—Å—Ç–∏—Ç—å
        </div>
        
        <div id="result" class="result">
            <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
        </div>
    </div>

    <script>
        function calculateCost() {
            const arrivalTime = document.getElementById('arrivalTime').value;
            const departureTime = document.getElementById('departureTime').value;
            const visitorType = document.querySelector('input[name="visitorType"]:checked').value;
            const dayType = document.querySelector('input[name="dayType"]:checked').value;
            
            const result = calculateCostLogic(arrivalTime, departureTime, parseInt(visitorType), parseInt(dayType));
            
            showResult(result, arrivalTime, departureTime, visitorType, dayType);
        }
        
        function calculateCostLogic(arrivalTime, departureTime, visitorType, dayType) {
            const [arrivalHours, arrivalMinutes] = arrivalTime.split(':').map(Number);
            const [departureHours, departureMinutes] = departureTime.split(':').map(Number);
            
            let totalMinutes = (departureHours * 60 + departureMinutes) - (arrivalHours * 60 + arrivalMinutes);
            
            if (totalMinutes <= 0) {
                alert('‚ùå –í—Ä–µ–º—è —É—Ö–æ–¥–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–∑–∂–µ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏—Ö–æ–¥–∞');
                return { calculated: 0, final: 0 };
            }
            
            let firstHourRate, secondHourRate, thirdHourRate;
            
            if (visitorType === 1 && dayType === 1) {
                firstHourRate = 6.0; secondHourRate = 3.0; thirdHourRate = 2.0;
            } else if (visitorType === 2 && dayType === 1) {
                firstHourRate = 4.5; secondHourRate = 3.0; thirdHourRate = 2.0;
            } else if (visitorType === 1 && dayType === 2) {
                firstHourRate = 7.0; secondHourRate = 4.0; thirdHourRate = 3.0;
            } else {
                firstHourRate = 5.0; secondHourRate = 4.0; thirdHourRate = 3.0;
            }
            
            let calculatedCost = 0;
            let remainingMinutes = totalMinutes;
            
            if (remainingMinutes > 0) {
                const firstHourMinutes = Math.min(remainingMinutes, 60);
                calculatedCost += firstHourMinutes * firstHourRate;
                remainingMinutes -= firstHourMinutes;
            }
            
            if (remainingMinutes > 0) {
                const secondHourMinutes = Math.min(remainingMinutes, 60);
                calculatedCost += secondHourMinutes * secondHourRate;
                remainingMinutes -= secondHourMinutes;
            }
            
            if (remainingMinutes > 0) {
                calculatedCost += remainingMinutes * thirdHourRate;
            }
            
            let finalCost = calculatedCost;
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–Ω–æ –Ω–æ–≤—ã–º –ø—Ä–∞–≤–∏–ª–∞–º
            if (visitorType === 2) { // –†–µ–±–µ–Ω–æ–∫
                if (finalCost < 150) finalCost = 150;
            } else { // –í–∑—Ä–æ—Å–ª—ã–π
                if (finalCost < 180) finalCost = 180;
            }
            
            if (dayType === 2) { // –í—ã—Ö–æ–¥–Ω–æ–π –¥–µ–Ω—å
                if (finalCost > 800) finalCost = 800;
            } else { // –ë—É–¥–Ω–∏–π –¥–µ–Ω—å
                if (finalCost > 600) finalCost = 600;
            }
            
            return {
                calculated: Math.round(calculatedCost * 100) / 100,
                final: Math.round(finalCost * 100) / 100
            };
        }
        
        function showResult(result, arrivalTime, departureTime, visitorType, dayType) {
            const resultDiv = document.getElementById('result');
            const visitorTypeText = visitorType === '1' ? '–í–∑—Ä–æ—Å–ª—ã–π' : '–†–µ–±–µ–Ω–æ–∫';
            const dayTypeText = dayType === '1' ? '–ë—É–¥–Ω–∏–π –¥–µ–Ω—å' : '–í—ã—Ö–æ–¥–Ω–æ–π –¥–µ–Ω—å';
            
            let resultHTML = `
                <h3>‚ú® –î–ï–¢–ê–õ–ò –†–ê–°–ß–ï–¢–ê ‚ú®</h3>
                <p><strong>üïí –í—Ä–µ–º—è –ø—Ä–∏—Ö–æ–¥–∞:</strong> ${arrivalTime}</p>
                <p><strong>üïì –í—Ä–µ–º—è —É—Ö–æ–¥–∞:</strong> ${departureTime}</p>
                <p><strong>üë§ –¢–∏–ø –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è:</strong> ${visitorTypeText}</p>
                <p><strong>üìÖ –¢–∏–ø –¥–Ω—è:</strong> ${dayTypeText}</p>
                
                <div class="calculated-cost">
                    <strong>üìä –†–ê–°–ß–ï–¢–ù–ê–Ø —Å—Ç–æ–∏–º–æ—Å—Ç—å (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π):</strong> ${result.calculated.toFixed(2)} —Ä—É–±.
                </div>
                
                <div class="tariff-info">
                    <h4>üíé –ü–†–ò–ú–ï–ù–Ø–ï–ú–´–ï –¢–ê–†–ò–§–´:</h4>
            `;
            
            if (visitorTypeText === '–í–∑—Ä–æ—Å–ª—ã–π' && dayTypeText === '–ë—É–¥–Ω–∏–π –¥–µ–Ω—å') {
                resultHTML += `<p>‚Ä¢ 1-–π —á–∞—Å: 6 —Ä—É–±/–º–∏–Ω<br>‚Ä¢ 2-–π —á–∞—Å: 3 —Ä—É–±/–º–∏–Ω<br>‚Ä¢ 3-–π —á–∞—Å+: 2 —Ä—É–±/–º–∏–Ω</p>`;
            } else if (visitorTypeText === '–†–µ–±–µ–Ω–æ–∫' && dayTypeText === '–ë—É–¥–Ω–∏–π –¥–µ–Ω—å') {
                resultHTML += `<p>‚Ä¢ 1-–π —á–∞—Å: 4.5 —Ä—É–±/–º–∏–Ω<br>‚Ä¢ 2-–π —á–∞—Å: 3 —Ä—É–±/–º–∏–Ω<br>‚Ä¢ 3-–π —á–∞—Å+: 2 —Ä—É–±/–º–∏–Ω</p>`;
            } else if (visitorTypeText === '–í–∑—Ä–æ—Å–ª—ã–π' && dayTypeText === '–í—ã—Ö–æ–¥–Ω–æ–π –¥–µ–Ω—å') {
                resultHTML += `<p>‚Ä¢ 1-–π —á–∞—Å: 7 —Ä—É–±/–º–∏–Ω<br>‚Ä¢ 2-–π —á–∞—Å: 4 —Ä—É–±/–º–∏–Ω<br>‚Ä¢ 3-–π —á–∞—Å+: 3 —Ä—É–±/–º–∏–Ω</p>`;
            } else {
                resultHTML += `<p>‚Ä¢ 1-–π —á–∞—Å: 5 —Ä—É–±/–º–∏–Ω<br>‚Ä¢ 2-–π —á–∞—Å: 4 —Ä—É–±/–º–∏–Ω<br>‚Ä¢ 3-–π —á–∞—Å+: 3 —Ä—É–±/–º–∏–Ω</p>`;
            }
            
            resultHTML += `</div>`;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
            if (result.calculated !== result.final) {
                if (visitorType === '2' && result.calculated < 150) {
                    resultHTML += `
                        <p><strong>üí∞ –§–ê–ö–¢–ò–ß–ï–°–ö–ê–Ø –°–¢–û–ò–ú–û–°–¢–¨:</strong> ${result.final.toFixed(2)} —Ä—É–±.</p>
                        <p><em>(–ø—Ä–∏–º–µ–Ω–µ–Ω –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç –¥–ª—è —Ä–µ–±–µ–Ω–∫–∞)</em></p>
                    `;
                } else if (visitorType === '1' && result.calculated < 180) {
                    resultHTML += `
                        <p><strong>üí∞ –§–ê–ö–¢–ò–ß–ï–°–ö–ê–Ø –°–¢–û–ò–ú–û–°–¢–¨:</strong> ${result.final.toFixed(2)} —Ä—É–±.</p>
                        <p><em>(–ø—Ä–∏–º–µ–Ω–µ–Ω –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç –¥–ª—è –≤–∑—Ä–æ—Å–ª–æ–≥–æ)</em></p>
                    `;
                } else if (dayType === '2' && result.calculated > 800) {
                    resultHTML += `
                        <p><strong>üí∞ –§–ê–ö–¢–ò–ß–ï–°–ö–ê–Ø –°–¢–û–ò–ú–û–°–¢–¨:</strong> ${result.final.toFixed(2)} —Ä—É–±.</p>
                        <p><em>(–ø—Ä–∏–º–µ–Ω–µ–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç –¥–ª—è –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –¥–Ω—è)</em></p>
                    `;
                } else if (dayType === '1' && result.calculated > 600) {
                    resultHTML += `
                        <p><strong>üí∞ –§–ê–ö–¢–ò–ß–ï–°–ö–ê–Ø –°–¢–û–ò–ú–û–°–¢–¨:</strong> ${result.final.toFixed(2)} —Ä—É–±.</p>
                        <p><em>(–ø—Ä–∏–º–µ–Ω–µ–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç –¥–ª—è –±—É–¥–Ω–µ–≥–æ –¥–Ω—è)</em></p>
                    `;
                }
            } else {
                resultHTML += `<p><strong>üí∞ –ò–¢–û–ì–û–í–ê–Ø –°–¢–û–ò–ú–û–°–¢–¨:</strong> ${result.final.toFixed(2)} —Ä—É–±.</p>`;
            }
            
            resultHTML += `
                <hr>
                <p><strong>üìà –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</strong> ${visitorType === '2' ? '150 —Ä—É–±. (—Ä–µ–±–µ–Ω–æ–∫)' : '180 —Ä—É–±. (–≤–∑—Ä–æ—Å–ª—ã–π)'}</p>
                <p><strong>üìâ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</strong> ${dayType === '2' ? '800 —Ä—É–±. (–≤—ã—Ö–æ–¥–Ω–æ–π)' : '600 —Ä—É–±. (–±—É–¥–Ω–∏–π)'}</p>
            `;
            
            resultDiv.innerHTML = resultHTML;
            resultDiv.style.display = 'block';
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
            resultDiv.scrollIntoView({ behavior: 'smooth' });
        }
        
        function clearForm() {
            document.getElementById('arrivalTime').value = '10:00';
            document.getElementById('departureTime').value = '12:00';
            document.querySelector('input[name="visitorType"][value="1"]').checked = true;
            document.querySelector('input[name="dayType"][value="1"]').checked = true;
            document.getElementById('result').style.display = 'none';
        }
        
        // –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                calculateCost();
            } else if (event.key === 'Backspace') {
                event.preventDefault();
                clearForm();
            }
        });

        // –§–æ–∫—É—Å –Ω–∞ –æ–∫–Ω–æ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', function() {
            document.body.focus();
        });
    </script>
</body>
</html>
